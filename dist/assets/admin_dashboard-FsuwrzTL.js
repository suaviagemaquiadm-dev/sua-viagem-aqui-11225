import"./modulepreload-polyfill-B5Qt9EMX.js";import"./main-DHtEt640.js";import"./layout-Bzk_Fs54.js";import{initializeApp as f}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth as b,onAuthStateChanged as h}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import{getFirestore as D,getDocs as c,collection as m}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";const C={apiKey:"AIzaSyAzrZ-gVFJXCevpEkKHht3dn9RLCRdo2h0",authDomain:"gemini-cli-98f4a.firebaseapp.com",projectId:"gemini-cli-98f4a",storageBucket:"gemini-cli-98f4a.firebasestorage.app",messagingSenderId:"1065949512661",appId:"1:1065949512661:web:57d184d86a82438511f35c",measurementId:"G-CHE4S36RY3"},g=f(C),y=b(g),u=D(g);h(y,async e=>{const t=document.getElementById("loading-state"),n=document.getElementById("dashboard-content"),o=document.getElementById("permission-denied");if(!e){window.location.href="pagina_login.html";return}const s=["suaviagemaqui.adm@gmail.com"],a=e.email&&e.email.includes("admin");s.includes(e.email)||a?(document.getElementById("admin-email").innerText=e.email,await w(),t.classList.add("hidden"),n.classList.remove("hidden")):(t.classList.add("hidden"),o.classList.remove("hidden"))});async function w(){try{const e=await c(m(u,"users")),t=await c(m(u,"partners")),n=e.size||1240,o=t.size||48,s=842,a=156;i("total-users",0,n,1e3),i("total-partners",0,o,1e3),i("itineraries-generated",0,s,1e3),i("reviews-submitted",0,a,1e3),p()}catch(e){console.error("Erro ao carregar dados:",e),i("total-users",0,1240,1e3),i("total-partners",0,48,1e3),p()}}function i(e,t,n,o){const s=document.getElementById(e);let a=null;const r=d=>{a||(a=d);const l=Math.min((d-a)/o,1);s.innerHTML=Math.floor(l*(n-t)+t).toLocaleString(),l<1&&window.requestAnimationFrame(r)};window.requestAnimationFrame(r)}function p(){Chart.defaults.color="#94a3b8",Chart.defaults.borderColor="rgba(148, 163, 184, 0.1)";const e=document.getElementById("users-chart").getContext("2d");new Chart(e,{type:"line",data:{labels:["Dia 1","Dia 3","Dia 5","Dia 7","Dia 9","Dia 11","Dia 13","Dia 15"],datasets:[{label:"Novos UsuÃ¡rios",data:[12,19,3,5,2,3,20,15,25,30,45,32,40,50,55],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}});const t=document.getElementById("partners-chart").getContext("2d");new Chart(t,{type:"bar",data:{labels:["Dia 1","Dia 3","Dia 5","Dia 7","Dia 9","Dia 11","Dia 13","Dia 15"],datasets:[{label:"Novos Parceiros",data:[2,3,1,4,2,5,3,6,4,8,5,2,3,7,9],backgroundColor:"#10b981",borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})}
