import"./modulepreload-polyfill-B5Qt9EMX.js";import{B as g,b as f,E as p,C as h,d as w,a as b,D as y}from"./main-DHtEt640.js";import"./layout-Bzk_Fs54.js";const i=document.getElementById("register-form"),E=document.getElementById("name"),v=document.getElementById("email"),I=document.getElementById("password"),B=document.getElementById("confirm-password"),L=document.getElementById("submit-btn"),a=document.getElementById("form-message"),m=document.getElementById("submit-text"),c=document.getElementById("submit-loading");function l(t,s=!0){a.textContent=t,a.className=`text-center p-3 rounded-md mt-4 text-sm ${s?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"}`,a.classList.remove("hidden")}function o(t){L.disabled=t,t?(m.classList.add("hidden"),c.classList.remove("hidden")):(m.classList.remove("hidden"),c.classList.add("hidden"))}async function x(t){t.preventDefault(),o(!0),a.classList.add("hidden");const s=E.value,r=v.value,d=I.value,u=B.value;if(d!==u){l("As senhas não coincidem."),o(!1);return}try{const e=(await g(f,r,d)).user;await p(e,{displayName:s}),await h(w(b,"users",e.uid),{uid:e.uid,name:s,email:r,role:"traveler",plan:"free",createdAt:y()}),window.location.assign("/perfil.html")}catch(n){console.error("Erro no cadastro:",n);let e="Ocorreu um erro ao criar a conta. Tente novamente.";n.code==="auth/email-already-in-use"?e="Este e-mail já está em uso. Tente fazer login.":n.code==="auth/weak-password"&&(e="A senha deve ter pelo menos 6 caracteres."),l(e),o(!1)}}i&&i.addEventListener("submit",x);
